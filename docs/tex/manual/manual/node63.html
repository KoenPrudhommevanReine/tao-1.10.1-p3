<HTML>
<HEAD>
<!-- This file was generated by tohtml from taoapplication.tex -->
<!-- with the command
tohtml -default -numbers -mapman www.cit manual.tex -notopnames -mapref ../../manualpages/manualpages.cit -quietlatex 
-->
<TITLE>Error Checking</TITLE>
</HEAD>
<BODY BGCOLOR="#FFFFFF">
<HR><H2><A NAME="Node63">41.2. Error Checking</a></H2>
  
<P> 
In the Fortran version, each TAO routine has as its final argument  
an integer error variable, in contrast to the C++ convention of  
providing the error variable as the routine's return value.  The error  
code is set to be nonzero if an error has been detected; otherwise, it  
is zero.  For example, the Fortran and C++ variants of <tt> <a href="../manualpages/ptaopages/TaoSolveApplication.html#TaoSolveApplication">TaoSolveApplication</a>()</tt> are  
given, respectively, below, where <tt> info</tt> denotes the error variable:  
<BR> 
<pre><tt>   call <a href="../manualpages/ptaopages/TaoSolveApplication.html#TaoSolveApplication">TaoSolveApplication</a>(TAO_APPLICATION taoapp, TAO_SOLVER tao, int info) 
   info = <a href="../manualpages/ptaopages/TaoSolveApplication.html#TaoSolveApplication">TaoSolveApplication</a>(TAO_APPLICATION taoapp, TAO_SOLVER tao) 
</tt></pre> 
  
<P> 
Fortran programmers can use the error codes in writing their own  
tracebacks.  For example, one could use code such as the following:  
<BR> 
<pre><tt>   call <a href="../manualpages/ptaopages/TaoSolveApplication.html#TaoSolveApplication">TaoSolveApplication</a>(taoapp, tao, info) 
   if (info .ne. 0) then 
       print*, 'Error in routine ...' 
       return 
   endif 
</tt></pre> 
  
In addition, Fortran programmers can check these error codes with the  
macro <tt> CHKERRQ()</tt>, which terminates all process when an error  
is encountered.  See the PETSc users manual for details.  The most  
common reason for crashing PETSc Fortran code is forgetting the final  
<tt> info</tt> argument.  
<P> 
Additional interface differences for Fortran users:  
<ul> 
 
<li><tt> <a href="../manualpages/solver/TaoGetConvergenceHistory.html#TaoGetConvergenceHistory">TaoGetConvergenceHistory</a>()</tt> -- returns only the number of   
elements in the history.  Storage for the convergence information must   
be preallocated by the user and then registered with   
<tt> <a href="../manualpages/solver/TaoSetConvergenceHistory.html#TaoSetConvergenceHistory">TaoSetConvergenceHistory</a>()</tt>.  
 
<li><tt> TaoSetLinesearch()</tt> -- use only the first and fourth   
arguments. The setup, options, view, and destroy routines do not apply.  
</ul> 
<BR> 

<P>
<HR>
</BODY>
</HTML>
