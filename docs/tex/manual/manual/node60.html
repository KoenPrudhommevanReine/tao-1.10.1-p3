<HTML>
<HEAD>
<!-- This file was generated by tohtml from taoapplication.tex -->
<!-- with the command
tohtml -default -numbers -mapman www.cit manual.tex -notopnames -mapref ../../manualpages/manualpages.cit -quietlatex 
-->
<TITLE>Compiling and Linking</TITLE>
</HEAD>
<BODY BGCOLOR="#FFFFFF">
<HR><H1><A NAME="Node60">40. Compiling and Linking</a></H1>
Portable TAO makefiles follow the rules and definitions  
of PETSc makefiles.  
In Figures  we present a sample makefile.  
<P> 
  
<BR> 
<pre><tt>       CFLAGS    =  
       FFLAGS    =  
       CPPFLAGS  = 
       FPPFLAGS  = 
        
       include ${TAO_DIR}/bmake/tao_common 
    
       minsurf1: minsurf1.o tao_chkopts 
            -${CLINKER} -o minsurf1 minsurf1.o ${TAO_LIB} ${PETSC_SNES_LIB} 
            ${RM} minsurf1.o 
</tt></pre> 
  
  
<BR> 
<b>Figure 7: </b><A NAME="Figure7">Sample TAO makefile for a single C program</a><P> 
  
  
This small makefile is suitable for maintaining a single program that  
uses the TAO library.  The most important line in this makefile is the  
line starting with <tt> include</tt>:  
<P> 
<BR> 
<pre><tt>   include ${TAO_DIR}/bmake/tao_common 
</tt></pre> 
  
This line includes other makefiles that provide the needed definitions  
and rules for the particular base software installations (specified by  
<tt> ${}TAO_DIR</tt> and <tt> ${}PETSC_DIR</tt>) and architecture  
(specified by <tt> ${}PETSC_ARCH</tt>), which are typically set as  
environmental variables prior to compiling TAO source or programs.  As  
listed in the sample makefile, the appropriate <tt> include</tt> file is  
automatically completely specified; the user should <em> not</em> alter  
this statement within the makefile.  
 <P> 
TAO applications using PETSc should be linked with the  
to the <tt> PETSC_SNES_LIB</tt> library  
as well as the <tt> TAO_LIB</tt> library. This version uses  
PETSc 3.1, and the <tt> PETSC_DIR</tt> variable  
should be set accordingly.  Many examples of makefiles  
can be found in the <tt> examples</tt> directories.  
<P> 

<P>
<HR>
</BODY>
</HTML>
