<HTML>
<HEAD>
<!-- This file was generated by tohtml from part1.tex -->
<!-- with the command
tohtml -default -numbers -mapman www.cit manual.tex -notopnames -mapref ../../manualpages/manualpages.cit -quietlatex 
-->
<TITLE>Sample Makefiles</TITLE>
</HEAD>
<BODY BGCOLOR="#FFFFFF">
<HR><H2><A NAME="Node23">16.2. Sample Makefiles</a></H2>
  
<BR> 
<pre><tt>       CFLAGS    =  
       FFLAGS    =  
       CPPFLAGS  = 
       FPPFLAGS  = 
        
       include ${TAO_DIR}/bmake/tao_common 
    
       rosenbrock1: rosenbrock1.o tao_chkopts 
            -${CLINKER} -o rosenbrock1 rosenbrock1.o ${TAO_LIB} ${PETSC_SNES_LIB} 
            ${RM} rosenbrock1.o 
</tt></pre> 
  
<BR> 
<b>Figure 6: </b><A NAME="Figure6">Sample TAO Makefile for a Single Program</a><P> 
  
  
Maintaining portable TAO makefiles is very simple.  Figure  
 presents a minimal makefile for maintaining a single  
program that uses the TAO library.  The most important line in this  
makefile is the line starting with <tt> include</tt>:  
<BR> 
<pre><tt>   include ${TAO_DIR}/bmake/tao_common 
</tt></pre> 
  
 This line includes other makefiles that provide the  
needed definitions and rules for the particular base software  
installations (specified by <tt> ${}TAO_DIR</tt> and <tt>  
  ${}PETSC_DIR</tt>) and architecture (specified by <tt>  
  ${}PETSC_ARCH</tt>), which are typically set as environmental  
variables prior to compiling TAO source or programs.  As listed in the  
sample makefile, the appropriate <tt> include</tt> file is automatically  
completely specified; the user should <em> not</em> alter this statement  
within the makefile.  
<P> 
Note that the variable <tt> ${}TAO_LIB</tt> (as listed on the link  
line in this makefile) specifies <em> all</em> of the various TAO and  
supplementary libraries in the appropriate order for correct linking.  
<P> 
<P><IMG SRC="img12.xbm"><P>
Some additional variables that can be used in the makefile are defined  
as follows:  
<ul> 
 
<li><tt> CFLAGS, FFLAGS</tt> - user-specified additional options for the  
  C++ compiler and fortran compiler.  
 
<li><tt> CPPFLAGS, FPPFLAGS</tt> - user-specified additional flags  
        for the C++ preprocessor and fortran preprocesor.  
 
<li><tt> CLINKER, FLINKER</tt> - the C++ and Fortran linkers.   
 
<li><tt> RM</tt> - the remove command for deleting files.  
 
<li><tt> TAO_LIB</tt> - all of the base TAO libraries and required supplementary libraries.  
               
 
<li><tt> TAO_FORTRAN_LIB</tt> - the TAO Fortran interface  
             library.   
 
<li><tt> PETSC_FORTRAN_LIB</tt> - the PETSc Fortran interface  
             library.   
</ul> 
<BR> 

<P>
<HR>
</BODY>
</HTML>
